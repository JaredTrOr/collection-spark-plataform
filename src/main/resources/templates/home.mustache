<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Items</title>
        <link rel="stylesheet" href="/styles.css">
    </head>
    <body>
        <header>
            <div class="toolbar">
                <form action="/" method="GET" id="search-form">
                    <input type="text" name="search" placeholder="Search items..." value="{{searchQuery}}">
                    <button type="submit">Search</button>
                </form>
                <button id="show-add-modal-btn">Add New Item</button>
            </div>
        </header>

        <main id="item-list" class="card-container">
            {{#items}}
                {{> _itemCard}}
            {{/items}}

            {{^items}}
                <p>No items found.</p>
            {{/items}}
        </main>

        <div class="pagination">
            {{#hasPrevious}}
                <a href="/?page={{prevPage}}&search={{searchQuery}}"> &laquo; Previous </a>
            {{/hasPrevious}}
            <span> Page {{page}} of {{totalPages}} </span>
            {{#hasNext}}
                <a href="/?page={{nextPage}}&search={{searchQuery}}"> Next &raquo; </a>
            {{/hasNext}}
        </div>

        <div id="add-item-modal" class="modal-backdrop" style="display: none;">
            <div class="modal">
                <h2>Add New Item</h2>
                <form id="add-item-form">
                    <label for="name">Name:</label>
                    <input id="name" type="text" name="name" required>
                    <label for="description">Description:</label>
                    <textarea id="description" name="description"></textarea>
                    <label for="price">Price:</label>
                    <input id="price" type="number" name="price" step="0.01" min="0" required>
                    <label for="inventory">Inventory:</label>
                    <input id="inventory" type="number" name="inventory" min="0" required>

                    <div class="modal-actions">
                        <button type="button" class="btn-close">Cancel</button>
                        <button type="submit" class="btn-primary">Save Item</button>
                    </div>
                </form>
            </div>
        </div>



        <div id="edit-item-modal" class="modal-backdrop" style="display: none;">
            <div class="modal">
                <h2>Edit Item</h2>
                <form id="edit-item-form">
                    <input type="hidden" name="id">

                    <label for="editName">Name:</label>
                    <input id="editName" type="text" name="name" required>
                    <label for="editDescription">Description:</label>
                    <textarea id="editDescription" name="description"></textarea>
                    <label for="editPrice">Price:</label>
                    <input id="editPrice" type="number" name="price" step="0.01" min="0" required>
                    <label for="editInventory">Inventory:</label>
                    <input id="editInventory" type="number" name="inventory" min="0" required>

                    <div class="modal-actions">
                        <button type="button" class="btn-close">Cancel</button>
                        <button type="submit" class="btn-primary">Update Item</button>
                    </div>
                </form>
            </div>
        </div>

        <script src="/home/script.js" defer></script>
    </body>
</html>